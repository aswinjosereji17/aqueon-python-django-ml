{% extends 'user_prof.html' %}

{% load static %}
{% block content %}
<div style="min-height: 500px;">
  <div class="container-fluid">
    <div class="row px-xl-5">
      <div class="col-12">
        <nav class="breadcrumb bg-light mb-30">
          <a class="breadcrumb-item text-dark" href="#">Home</a>
          <!-- <a class="breadcrumb-item text-dark" href="#">Shop</a> -->
          <span class="breadcrumb-item active">Wishlist</span>
        </nav>
      </div>
    </div>
  </div>

  <!-- {% if wishlist_items|length == 0 %} -->

  <!-- {% endif %} -->
  <ul>
    {% for item in wishlist_items %}

    <div class="container mt-4">
      <div class="row">
        <div class="col-md-8">
          <div style="margin-left:250px" class="card">
            <div class="card-body row"> <!-- Apply the row class here -->
              <!-- Left: Product Image -->
              <img style="max-height: 280px; width: 280px;" src="{{ item.prod_id.productdescription.img1.url }}"
                class="mr-3 img-fluid" alt="Product Image">
              <div class="media-body">
                <!-- Product Name -->
                <h5 class="mt-0">{{ item.prod_id.prod_name }}</h5>
                <!-- Price -->
                <p> Rs.{{ item.prod_id.price }}</p>
                <!-- In Stock Status -->
                {% if item.prod_id.stock_quantity == 0 %}
                <p style="color: red;">Out of Stock</p>
                {% else %}
                <p style="color: green;">In Stock</p>
                {% endif %}
                 <form method="post" action="{% url 'remove_wish_item' item.wish_id %}">
                          {% csrf_token %}
                          <button style="border-radius: 3px;" type="submit" class="btn btn-sm btn-danger">
                            <i class="bi bi-trash"></i>
                          </button>
                        </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>



    <!-- <div style="display: flex
        ; flex-direction: row; gap: 20px;">
      <p>{{ item.prod_id.prod_name }}</p>
      <p>Rs.{{ item.prod_id.price }}</p>

    </div> -->



    {% empty %}
    <div class="container text-center mt-5">
      <div class="row justify-content-center">
        <div class="col-md-6">
          <div class="card border-0 shadow">
            <div class="card-body p-5">
              <h1 class="display-4">Your Wishlist is Empty</h1>
              <p class="lead">Explore our amazing products and add some to your wishlist!</p>
              <a href="{% url 'index' %}" class="btn btn-primary btn-lg">Browse Products</a>
            </div>
          </div>
        </div>
      </div>
    </div>
</div>
{% endfor %}
</ul>


</div>
{% endblock %}